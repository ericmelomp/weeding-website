services:
  wedding-website:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: wedding-website
    ports:
      - "8080:80"
    # Volumes desabilitados - assets s√£o copiados no Dockerfile durante o build
    # Para desenvolvimento local com hot-reload, descomente as linhas abaixo:
    # volumes:
    #   - ./index.html:/usr/share/nginx/html/index.html
    #   - ./rsvp.html:/usr/share/nginx/html/rsvp.html
    #   - ./presentes.html:/usr/share/nginx/html/presentes.html
    #   - ./styles.css:/usr/share/nginx/html/styles.css
    #   - ./script.js:/usr/share/nginx/html/script.js
    #   - ./assets:/usr/share/nginx/html/assets
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
